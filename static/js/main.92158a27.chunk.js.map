{"version":3,"sources":["../node_modules/peerjs/dist sync","components/PeerContext.tsx","components/utils.ts","components/Home.tsx","App.tsx","serviceWorkerRegistration.ts","reportWebVitals.ts","index.tsx"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","PeerContext","createContext","PeerContextProvider","children","useState","peer","setPeer","peerConnection","setPeerConnection","peerconState","setPeerconState","pullPage","setPullPage","messages","setMessage","useEffect","ondata","data","console","log","type","m","event","on","off","open","close","err","p","Peer","nanoid","host","secure","window","location","reload","connection","conn","Provider","value","copyTextToClipboard","text","Promise","res","rej","navigator","clipboard","writeText","then","textArea","document","createElement","style","top","left","position","body","appendChild","focus","select","msg","execCommand","error","removeChild","fallbackCopyTextToClipboard","Home","useContext","pullState","setPullState","shade","setShade","y","useMotionValue","background","useTransform","runMenu","useCallback","ps","share","send","div","className","Shade","header","drag","onDragStart","onDragEnd","onDrag","i","offset","dragConstraints","bottom","PeerID","About","Connect","Messages","initial","opacity","height","animate","exit","transition","repeat","Infinity","repeatType","stiffness","damping","innerHeight","MessageHeader","MessageContainer","MessageInput","sendBtn","setSendBtn","message","useRef","inputfield","InputBase","inputRef","fullWidth","autoFocus","multiline","onChange","current","target","trim","inputProps","caretColor","color","onClick","mess","sent","map","Message","reverse","clip","setClip","otherid","setOtherid","connect","con","interval","setInterval","connectionState","undefined","clearInterval","readText","length","catch","span","TextField","label","defaultValue","InputProps","variant","Button","disabled","Fab","App","theme","createMuiTheme","palette","primary","main","secondary","ThemeProvider","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById","URL","process","href","origin","addEventListener","fetch","headers","response","contentType","get","status","indexOf","ready","unregister","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.92158a27.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 80;","import React, { createContext, useEffect, useState } from \"react\";\n\n// utils\nimport Peer from \"peerjs\";\nimport { nanoid } from \"nanoid\";\nimport { ContextProps } from \"./types\";\n\nexport const PeerContext = createContext<ContextProps | {}>({});\n\nexport function PeerContextProvider({ children }: { children: any }) {\n  const [peer, setPeer] = useState<Peer | null>(null);\n\n  const [\n    peerConnection,\n    setPeerConnection,\n  ] = useState<Peer.DataConnection | null>(null);\n  const [peerconState, setPeerconState] = useState(false);\n  const [pullPage, setPullPage] = useState(\"main\");\n  const [messages, setMessage] = useState<any>([]);\n\n  useEffect(() => {\n    if (peerConnection && peerconState) {\n      const ondata = (data: any) => {\n        console.log(data);\n        if (data.type === \"message\") {\n          setMessage && setMessage((m: any) => [...m, data[data.type]]);\n        } else if (data.type === \"event\") {\n          if (data.event === \"messages\") setPullPage(\"messages\");\n        }\n      };\n      peerConnection.on(\"data\", ondata);\n\n      return () => {\n        peerConnection.off(\"data\", ondata);\n      };\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [peerconState, peerConnection]);\n  useEffect(() => {\n    console.log(\"peer con set:\", peerConnection, peerconState);\n    if (peerConnection && !peerconState) {\n      const open = () => {\n        console.log(\"connected\");\n        setPeerconState(true);\n      };\n\n      peerConnection.on(\"open\", open);\n\n      return () => {\n        peerConnection.off(\"open\", open);\n      };\n    }\n  }, [peerConnection, peerconState]);\n\n  useEffect(() => {\n    if (peerConnection) {\n      const close = () => {\n        console.log(\"disconnected\");\n        setPeerconState(false);\n        setPeerConnection(null);\n      };\n      const err = (err: any) => {\n        console.log(\"err\", err);\n        setPeerconState(false);\n        setPeerConnection(null);\n      };\n      peerConnection.on(\"close\", close);\n      peerConnection.on(\"error\", err);\n\n      return () => {\n        peerConnection.off(\"close\", close);\n        peerConnection.off(\"error\", err);\n      };\n    }\n  }, [peerConnection]);\n\n  useEffect(() => {\n    const p = new Peer(nanoid(5), {\n      host: \"ciapeer.herokuapp.com\",\n      secure: true,\n    });\n\n    const open = (id: string) => {\n      setPeer(p);\n      console.log(id);\n    };\n    const err = (err: any) => {\n      if (err.type === \"unavailable-id\") {\n        window.location.reload();\n      }\n    };\n    const connection = (conn: Peer.DataConnection) => {\n      console.log(\"getting connection from\", conn.peer);\n      setPeerConnection(conn);\n    };\n    p.on(\"open\", open);\n\n    p.on(\"error\", err);\n    p.on(\"connection\", connection);\n\n    return () => {\n      p.off(\"open\", open);\n      p.off(\"error\", err);\n      p.off(\"connection\", connection);\n    };\n  }, []);\n\n  return (\n    <PeerContext.Provider\n      value={{\n        peer,\n        peerConnection,\n        messages,\n        setPeerConnection,\n        peerconState,\n        setPeerconState,\n        setMessage,\n        pullPage,\n        setPullPage,\n      }}\n    >\n      {children}\n    </PeerContext.Provider>\n  );\n}\n","export function fallbackCopyTextToClipboard(text: string) {\n  var textArea = document.createElement(\"textarea\");\n  textArea.value = text;\n\n  // Avoid scrolling to bottom\n  textArea.style.top = \"0\";\n  textArea.style.left = \"0\";\n  textArea.style.position = \"fixed\";\n\n  document.body.appendChild(textArea);\n  textArea.focus();\n  textArea.select();\n\n  try {\n    var successful = document.execCommand(\"copy\");\n    var msg = successful ? \"successful\" : \"unsuccessful\";\n    console.log(\"Fallback: Copying text command was \" + msg);\n  } catch (err) {\n    console.error(\"Fallback: Oops, unable to copy\", err);\n  }\n\n  document.body.removeChild(textArea);\n}\nexport function copyTextToClipboard(text: string) {\n  return new Promise((res, rej) => {\n    if (!navigator.clipboard) {\n      res(fallbackCopyTextToClipboard(text));\n      return;\n    }\n    navigator.clipboard.writeText(text).then(\n      function () {\n        res(text);\n      },\n      function (err: any) {\n        rej(err);\n      }\n    );\n  });\n}\n","import React, {\n  useCallback,\n  useContext,\n  useEffect,\n  useRef,\n  useState,\n} from \"react\";\nimport { PeerContext } from \"./PeerContext\";\nimport {\n  AnimatePresence,\n  motion,\n  useMotionValue,\n  useTransform,\n} from \"framer-motion\";\nimport \"./css/home.css\";\nimport SendOutlinedIcon from \"@material-ui/icons/SendOutlined\";\nimport SettingsEthernetOutlinedIcon from \"@material-ui/icons/SettingsEthernetOutlined\";\nimport ShareOutlinedIcon from \"@material-ui/icons/ShareOutlined\";\nimport HelpOutlineIcon from \"@material-ui/icons/HelpOutline\";\nimport Peer from \"peerjs\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport AssignmentOutlinedIcon from \"@material-ui/icons/AssignmentOutlined\";\nimport Fab from \"@material-ui/core/Fab\";\nimport { copyTextToClipboard } from \"./utils\";\nimport { InputBase } from \"@material-ui/core\";\nimport { ContextProps } from \"./types\";\n\nexport default function Home() {\n  const {\n    peer,\n    peerConnection,\n    peerconState,\n    pullPage,\n    setPullPage,\n  } = useContext(PeerContext) as ContextProps;\n\n  const [pullState, setPullState] = useState(0);\n\n  const [shade, setShade] = useState(false);\n\n  const y = useMotionValue(0);\n  const background = useTransform(y, [-100, 0], [\"#0077ff\", \"#161922\"]);\n\n  const runMenu = useCallback(\n    function (ps: number) {\n      switch (ps) {\n        case 0:\n          setPullPage(\"main\");\n          break;\n        case 1:\n          setPullPage(\"connect\");\n          break;\n        case 2:\n          peer && copyTextToClipboard(peer.id);\n          if (navigator.share && peer) {\n            navigator.share({ text: peer.id });\n          }\n          break;\n        case 3:\n          // share\n          setPullPage(\"about\");\n          break;\n        case 4:\n          // share\n          setPullPage(\"messages\");\n          peerConnection?.send({ type: \"event\", event: \"messages\" });\n          break;\n        default:\n        // do something\n      }\n    },\n    [peer, peerConnection, setPullPage]\n  );\n\n  useEffect(() => {\n    if (peerconState) {\n      setPullPage(\"connect\");\n    }\n  }, [peerconState, setPullPage]);\n\n  useEffect(() => {\n    if (!peerconState && pullPage === \"messages\") {\n      runMenu(0);\n    }\n  }, [pullPage, peerconState, runMenu]);\n\n  return (\n    <motion.div\n      style={{\n        background: peerconState && pullPage !== \"messages\" ? background : \"\",\n      }}\n      className=\"home\"\n    >\n      <AnimatePresence>\n        {shade && pullState > 0 ? <Shade {...{ pullState }} /> : \"\"}\n      </AnimatePresence>\n      <motion.header\n        drag={pullPage !== \"messages\" ? \"y\" : false}\n        style={{ y }}\n        onDragStart={() => {\n          if (!peerconState) {\n            setShade(true);\n            setPullState(0);\n          }\n        }}\n        onDragEnd={() => {\n          if (!peerconState) {\n            setShade(false);\n          }\n          runMenu(pullState);\n        }}\n        onDrag={(e, i) => {\n          const y = -i.offset.y;\n          if (peer && !peerconState) {\n            if (y > 250 && y < 400) {\n              setPullState(1);\n            } else if (y >= 400 && y < 500) {\n              setPullState(2);\n            } else if (y >= 500 && y < 550) {\n              setPullState(3);\n            } else if (y <= 250) {\n              setPullState(0);\n            }\n          } else if (peer && peerconState) {\n            if (y >= 400 && y < 500) {\n              setPullState(4);\n            }\n          }\n        }}\n        dragConstraints={{ top: 0, bottom: 0 }}\n      >\n        {peer ? (\n          pullPage === \"main\" ? (\n            <PeerID\n              {...{\n                shade,\n                pullState,\n                peer,\n              }}\n            />\n          ) : pullPage === \"about\" ? (\n            <About />\n          ) : pullPage === \"connect\" ? (\n            <Connect />\n          ) : pullPage === \"messages\" ? (\n            <Messages setPullPage={setPullPage} />\n          ) : (\n            <></>\n          )\n        ) : (\n          <motion.div\n            className=\"connecting-loader\"\n            initial={{\n              opacity: 0,\n              height: 0,\n              y: 0,\n              background: \"#0077ff\",\n            }}\n            animate={{\n              opacity: 1,\n              height: \"auto\",\n              background: \"coral\",\n              y: 0,\n            }}\n            exit={{ opacity: 0, height: 0 }}\n          >\n            <motion.p\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              transition={{\n                repeat: Infinity,\n                repeatType: \"reverse\",\n                stiffness: 0.2,\n                damping: 0.5,\n              }}\n            >\n              Assigning ID...\n            </motion.p>\n          </motion.div>\n        )}\n      </motion.header>\n    </motion.div>\n  );\n}\n\nfunction Messages({\n  setPullPage,\n}: {\n  setPullPage: React.Dispatch<React.SetStateAction<string>>;\n}) {\n  return (\n    <motion.div\n      animate={{\n        opacity: 1,\n        height: window.innerHeight,\n        background: \"#161922\",\n      }}\n      className=\"messages\"\n    >\n      <MessageHeader />\n      <MessageContainer setPullPage={setPullPage} />\n      <MessageInput />\n    </motion.div>\n  );\n}\n\nfunction MessageHeader() {\n  const { peerConnection } = useContext(PeerContext) as ContextProps;\n  return (\n    <header>\n      <h2>Olive</h2>\n      <p>Connected to {peerConnection?.peer}</p>\n    </header>\n  );\n}\n\nfunction MessageInput() {\n  const { peerConnection, setMessage } = useContext(\n    PeerContext\n  ) as ContextProps;\n  const [sendBtn, setSendBtn] = useState(false);\n\n  const message = useRef(\"\");\n  const inputfield = useRef<any>();\n\n  function send() {\n    if (sendBtn) {\n      console.log(message.current.trim());\n      const m = { text: message.current.trim() };\n      peerConnection?.send({ message: m, type: \"message\" });\n      setMessage && setMessage((mess: any) => [...mess, { ...m, sent: true }]);\n      inputfield.current?.value && (inputfield.current.value = \"\");\n      inputfield.current?.focus && inputfield.current?.focus();\n    }\n  }\n\n  return (\n    <div className=\"message-input\">\n      <InputBase\n        inputRef={inputfield}\n        fullWidth\n        autoFocus\n        multiline\n        onChange={(e) => {\n          message.current = e.target.value;\n          if (message.current.trim()) {\n            setSendBtn(true);\n          } else {\n            setSendBtn(false);\n          }\n        }}\n        inputProps={{ style: { caretColor: \"#0077ff\", color: \"white\" } }}\n      />\n\n      <SendOutlinedIcon\n        style={{ color: \"#0077ff\", opacity: sendBtn ? 1 : 0.5 }}\n        onClick={send}\n      />\n    </div>\n  );\n}\nfunction MessageContainer({\n  setPullPage,\n}: {\n  setPullPage: React.Dispatch<React.SetStateAction<string>>;\n}) {\n  const { messages } = useContext(PeerContext) as ContextProps;\n\n  return (\n    <div className=\"messages-container\">\n      {messages?.map((m, i) => <Message key={i} message={m} />).reverse()}\n    </div>\n  );\n}\n\nfunction Message({ message }: { message: any }) {\n  return (\n    <div className={message.sent ? \"message sent-message\" : \"message\"}>\n      <p>{message.text}</p>\n    </div>\n  );\n}\n\nfunction Connect() {\n  const [clip, setClip] = useState(\"\");\n  const { peer, peerConnection, peerconState, setPeerConnection } = useContext(\n    PeerContext\n  ) as ContextProps;\n  const [otherid, setOtherid] = useState(\"\");\n\n  useEffect(() => {\n    navigator.clipboard\n      .readText()\n      .then((text) => {\n        if (text.length === 5) {\n          setClip(text);\n        }\n      })\n      .catch(() => {});\n  }, []);\n\n  useEffect(() => {\n    if (!(peerConnection && peerconState)) {\n      const interval = setInterval(() => {\n        if (!clip) {\n          navigator.clipboard\n            .readText()\n            .then((text) => {\n              if (text.length === 5) {\n                setClip(text);\n                return true;\n              }\n              return false;\n            })\n            .catch(() => {});\n        }\n      }, 2000);\n\n      return () => clearInterval(interval);\n    }\n  }, [clip, peerConnection, peerconState]);\n\n  function connect(id: string) {\n    console.log(\"connecting to:\", id);\n    const con = peer?.connect(id);\n    console.log(con);\n    setPeerConnection && setPeerConnection(con);\n    const interval = setInterval(() => {\n      console.log(\n        \"checking connetionState\",\n        con?.peerConnection?.connectionState\n      );\n      if (\n        con?.peerConnection?.connectionState &&\n        con?.peerConnection?.connectionState === \"failed\"\n      ) {\n        con.close();\n        setPeerConnection && setPeerConnection(undefined);\n        connect(id);\n        clearInterval(interval);\n      } else if (\n        (con?.peerConnection?.connectionState &&\n          con?.peerConnection?.connectionState === \"connected\") ||\n        !con?.peerConnection?.connectionState\n      ) {\n        clearInterval(interval);\n      }\n    }, 2000);\n  }\n\n  return (\n    <motion.div\n      initial={{ opacity: 0 }}\n      animate={{\n        opacity: 1,\n        height: !(peerconState && peerConnection) ? (clip ? 400 : 300) : 300,\n        background: \"#0077ff\",\n      }}\n      className=\"connect-page\"\n    >\n      <div className=\"pull-up-indicator\" style={{ position: \"static\" }}>\n        <motion.span\n          initial={{ y: 5 }}\n          animate={{ y: -5 }}\n          transition={{\n            repeat: Infinity,\n            repeatType: \"reverse\",\n            stiffness: 0.2,\n            damping: 0.5,\n          }}\n        >\n          pull up to message\n        </motion.span>\n      </div>\n      <header>\n        <h2>\n          {!(peerconState && peerConnection)\n            ? \"Connect to ID\"\n            : `Connected to ${peerConnection.peer}`}\n        </h2>\n        <SettingsEthernetOutlinedIcon />\n      </header>\n      {!(peerconState && peerConnection) ? (\n        <>\n          <TextField\n            id=\"partnerid\"\n            label=\"partner id\"\n            defaultValue=\"\"\n            // fullWidth\n            InputProps={{ style: { caretColor: \"white\", color: \"white\" } }}\n            autoFocus\n            variant=\"outlined\"\n            color=\"secondary\"\n            onChange={(e) => {\n              setOtherid(e.target.value);\n            }}\n          />\n          <Button\n            disabled={!(otherid.length === 5)}\n            variant=\"text\"\n            color=\"secondary\"\n            onClick={() => connect(otherid)}\n          >\n            connect\n          </Button>\n        </>\n      ) : (\n        <></>\n      )}\n      {clip || (peerconState && peerConnection) ? (\n        <div className=\"quick-connect\">\n          <Fab\n            disabled={!!(!peerconState && peerConnection)}\n            onClick={() => {\n              if (peerconState && peerConnection) {\n                peerConnection.close();\n              } else {\n                connect(clip);\n              }\n            }}\n            variant=\"extended\"\n            style={\n              peerconState && peerConnection\n                ? { background: \"coral\", color: \"white\" }\n                : {}\n            }\n          >\n            {peerconState && peerConnection ? (\n              <></>\n            ) : (\n              <AssignmentOutlinedIcon />\n            )}\n            <p>\n              {!peerconState && !peerConnection\n                ? `connect to ${clip}`\n                : !peerconState && peerConnection\n                ? `connecting to ${peerConnection.peer}`\n                : `disconnect from ${peerConnection && peerConnection.peer}`}\n            </p>\n          </Fab>\n        </div>\n      ) : (\n        <></>\n      )}\n    </motion.div>\n  );\n}\nfunction About() {\n  return (\n    <motion.div\n      initial={{ opacity: 0 }}\n      animate={{\n        opacity: 1,\n        height: 120,\n        background: \"coral\",\n      }}\n      className=\"about\"\n    >\n      <header>\n        <h2>whats this?</h2>\n        <HelpOutlineIcon />\n      </header>\n      <p>\n        just a ux experiment and also u can use this to watch youtube with like\n        one other person\n      </p>\n    </motion.div>\n  );\n}\n\nfunction PeerID({\n  shade,\n  pullState,\n  peer,\n}: {\n  shade: boolean;\n  pullState: number;\n  peer: Peer;\n}) {\n  return (\n    <motion.div\n      initial={{ opacity: 0, height: 0 }}\n      animate={{\n        opacity: 1,\n        height: 200,\n      }}\n      className=\"peer-id\"\n    >\n      <div className=\"pull-up-indicator\">\n        <motion.span\n          initial={{ y: 5 }}\n          animate={{ y: -5 }}\n          transition={{\n            repeat: Infinity,\n            repeatType: \"reverse\",\n            stiffness: 0.2,\n            damping: 0.5,\n          }}\n        >\n          {!shade && pullState === 0 ? \"pull up\" : \"drag to select\"}\n        </motion.span>\n      </div>\n      <h6>you are</h6>\n      <p>{peer?.id}</p>\n      <span className=\"version\">v0.0.1</span>\n    </motion.div>\n  );\n}\n\nfunction Shade({ pullState }: { pullState: number }) {\n  const { peerConnection, peerconState } = useContext(\n    PeerContext\n  ) as ContextProps;\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 100 }}\n      exit={{ opacity: 0, y: 200 }}\n      animate={{\n        opacity: 1,\n        y: 0,\n      }}\n      className=\"shade-menu\"\n    >\n      <div\n        style={{ background: pullState === 3 ? \"var(--accent)\" : \"\" }}\n        className=\"menu-item\"\n      >\n        <p>what is this?</p>\n        <HelpOutlineIcon />\n      </div>\n      <div\n        style={{ background: pullState === 2 ? \"var(--accent)\" : \"\" }}\n        className=\"menu-item\"\n      >\n        <p>share id</p>\n        <ShareOutlinedIcon />\n      </div>\n      {!peerConnection ? (\n        <div\n          style={{ background: pullState === 1 ? \"var(--accent)\" : \"\" }}\n          className=\"menu-item\"\n        >\n          <p>connect with</p>\n          <SettingsEthernetOutlinedIcon />\n        </div>\n      ) : (\n        <div\n          style={{ background: peerconState ? \"var(--accent)\" : \"coral\" }}\n          className=\"menu-item\"\n        >\n          <p>\n            {peerconState\n              ? `connected to ${peerConnection.peer}`\n              : `connecting to ${peerConnection.peer}`}\n          </p>\n          <SettingsEthernetOutlinedIcon />\n        </div>\n      )}\n    </motion.div>\n  );\n}\n","import { createMuiTheme, ThemeProvider } from \"@material-ui/core\";\nimport React from \"react\";\nimport Home from \"./components/Home\";\nimport { PeerContextProvider } from \"./components/PeerContext\";\n\nfunction App() {\n  const theme = createMuiTheme({\n    palette: {\n      primary: {\n        main: \"#0077ff\",\n      },\n      secondary: {\n        main: \"#ffff\",\n      },\n    },\n  });\n  return (\n    <ThemeProvider theme={theme}>\n      <PeerContextProvider>\n        <Home />\n      </PeerContextProvider>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.register();\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}