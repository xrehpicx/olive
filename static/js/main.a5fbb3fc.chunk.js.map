{"version":3,"sources":["../node_modules/peerjs/dist sync","components/PeerContext.tsx","components/utils.ts","components/Home.tsx","App.tsx","serviceWorkerRegistration.ts","reportWebVitals.ts","index.tsx"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","PeerContext","createContext","PeerContextProvider","children","useState","peer","setPeer","peerConnection","setPeerConnection","peerconState","setPeerconState","pullPage","setPullPage","messages","setMessage","useEffect","ondata","data","type","m","event","on","off","console","log","open","close","err","p","Peer","nanoid","host","secure","window","location","reload","connection","conn","Provider","value","copyTextToClipboard","text","Promise","res","rej","navigator","clipboard","writeText","then","textArea","document","createElement","style","top","left","position","body","appendChild","focus","select","msg","execCommand","error","removeChild","fallbackCopyTextToClipboard","Home","useContext","pullState","setPullState","shade","setShade","y","useMotionValue","background","useTransform","runMenu","useCallback","ps","share","send","div","className","Shade","header","drag","onDragStart","onDragEnd","onDrag","i","offset","dragConstraints","bottom","PeerID","About","Connect","Messages","initial","opacity","height","animate","exit","transition","repeat","Infinity","repeatType","stiffness","damping","layoutId","innerHeight","MessageHeader","MessageContainer","MessageInput","sendBtn","setSendBtn","message","useRef","inputfield","current","trim","mess","sent","setTimeout","onpress","key","shiftKey","addEventListener","removeEventListener","InputBase","inputRef","fullWidth","autoFocus","multiline","onChange","target","inputProps","caretColor","color","onClick","layout","map","Message","reverse","span","clip","setClip","otherid","setOtherid","connect","con","interval","setInterval","connectionState","undefined","clearInterval","readText","length","catch","TextField","label","defaultValue","InputProps","variant","Button","disabled","Fab","fontSize","fontWeight","App","theme","createMuiTheme","palette","primary","main","secondary","ThemeProvider","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById","URL","process","href","origin","fetch","headers","response","contentType","get","status","indexOf","ready","unregister","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.a5fbb3fc.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 80;","import React, { createContext, useEffect, useState } from \"react\";\n\n// utils\nimport Peer from \"peerjs\";\nimport { nanoid } from \"nanoid\";\nimport { ContextProps } from \"./types\";\n\nexport const PeerContext = createContext<ContextProps | {}>({});\n\nexport function PeerContextProvider({ children }: { children: any }) {\n  const [peer, setPeer] = useState<Peer | null>(null);\n\n  const [\n    peerConnection,\n    setPeerConnection,\n  ] = useState<Peer.DataConnection | null>(null);\n  const [peerconState, setPeerconState] = useState(false);\n  const [pullPage, setPullPage] = useState(\"main\");\n  const [messages, setMessage] = useState<any>([]);\n\n  useEffect(() => {\n    if (peerConnection && peerconState) {\n      const ondata = (data: any) => {\n        if (data.type === \"message\") {\n          setMessage && setMessage((m: any) => [...m, data[data.type]]);\n        } else if (data.type === \"event\") {\n          if (data.event === \"messages\") setPullPage(\"messages\");\n        }\n      };\n      peerConnection.on(\"data\", ondata);\n\n      return () => {\n        peerConnection.off(\"data\", ondata);\n      };\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [peerconState, peerConnection]);\n  useEffect(() => {\n    console.log(\"peer con set:\", peerConnection, peerconState);\n    if (peerConnection && !peerconState) {\n      const open = () => {\n        console.log(\"connected\");\n        setPeerconState(true);\n      };\n\n      peerConnection.on(\"open\", open);\n\n      return () => {\n        peerConnection.off(\"open\", open);\n      };\n    }\n  }, [peerConnection, peerconState]);\n\n  useEffect(() => {\n    if (peerConnection) {\n      const close = () => {\n        console.log(\"disconnected\");\n        setPeerconState(false);\n        setPeerConnection(null);\n      };\n      const err = (err: any) => {\n        console.log(\"err\", err);\n        setPeerconState(false);\n        setPeerConnection(null);\n      };\n      peerConnection.on(\"close\", close);\n      peerConnection.on(\"error\", err);\n\n      return () => {\n        peerConnection.off(\"close\", close);\n        peerConnection.off(\"error\", err);\n      };\n    }\n  }, [peerConnection]);\n\n  useEffect(() => {\n    const p = new Peer(nanoid(5), {\n      host: \"ciapeer.herokuapp.com\",\n      secure: true,\n    });\n\n    const open = (id: string) => {\n      setPeer(p);\n      console.log(id);\n    };\n    const err = (err: any) => {\n      if (err.type === \"unavailable-id\") {\n        window.location.reload();\n      }\n    };\n    const connection = (conn: Peer.DataConnection) => {\n      console.log(\"getting connection from\", conn.peer);\n      setPeerConnection(conn);\n    };\n    p.on(\"open\", open);\n\n    p.on(\"error\", err);\n    p.on(\"connection\", connection);\n\n    return () => {\n      p.off(\"open\", open);\n      p.off(\"error\", err);\n      p.off(\"connection\", connection);\n    };\n  }, []);\n\n  return (\n    <PeerContext.Provider\n      value={{\n        peer,\n        peerConnection,\n        messages,\n        setPeerConnection,\n        peerconState,\n        setPeerconState,\n        setMessage,\n        pullPage,\n        setPullPage,\n      }}\n    >\n      {children}\n    </PeerContext.Provider>\n  );\n}\n","export function fallbackCopyTextToClipboard(text: string) {\n  var textArea = document.createElement(\"textarea\");\n  textArea.value = text;\n\n  // Avoid scrolling to bottom\n  textArea.style.top = \"0\";\n  textArea.style.left = \"0\";\n  textArea.style.position = \"fixed\";\n\n  document.body.appendChild(textArea);\n  textArea.focus();\n  textArea.select();\n\n  try {\n    var successful = document.execCommand(\"copy\");\n    var msg = successful ? \"successful\" : \"unsuccessful\";\n    console.log(\"Fallback: Copying text command was \" + msg);\n  } catch (err) {\n    console.error(\"Fallback: Oops, unable to copy\", err);\n  }\n\n  document.body.removeChild(textArea);\n}\nexport function copyTextToClipboard(text: string) {\n  return new Promise((res, rej) => {\n    if (!navigator.clipboard) {\n      res(fallbackCopyTextToClipboard(text));\n      return;\n    }\n    navigator.clipboard.writeText(text).then(\n      function () {\n        res(text);\n      },\n      function (err: any) {\n        rej(err);\n      }\n    );\n  });\n}\n","import React, {\n  useCallback,\n  useContext,\n  useEffect,\n  useRef,\n  useState,\n} from \"react\";\nimport { PeerContext } from \"./PeerContext\";\nimport {\n  AnimatePresence,\n  AnimateSharedLayout,\n  motion,\n  useMotionValue,\n  useTransform,\n} from \"framer-motion\";\nimport \"./css/home.css\";\nimport SendOutlinedIcon from \"@material-ui/icons/SendOutlined\";\nimport SettingsEthernetOutlinedIcon from \"@material-ui/icons/SettingsEthernetOutlined\";\nimport ShareOutlinedIcon from \"@material-ui/icons/ShareOutlined\";\nimport HelpOutlineIcon from \"@material-ui/icons/HelpOutline\";\nimport Peer from \"peerjs\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport AssignmentOutlinedIcon from \"@material-ui/icons/AssignmentOutlined\";\nimport Fab from \"@material-ui/core/Fab\";\nimport { copyTextToClipboard } from \"./utils\";\nimport { InputBase } from \"@material-ui/core\";\nimport { ContextProps } from \"./types\";\n\nexport default function Home() {\n  const {\n    peer,\n    peerConnection,\n    peerconState,\n    pullPage,\n    setPullPage,\n  } = useContext(PeerContext) as ContextProps;\n\n  const [pullState, setPullState] = useState(0);\n\n  const [shade, setShade] = useState(false);\n\n  const y = useMotionValue(0);\n  const background = useTransform(y, [-100, 0], [\"#0077ff\", \"#161922\"]);\n\n  const runMenu = useCallback(\n    function (ps: number) {\n      switch (ps) {\n        case 0:\n          setPullPage(\"main\");\n          break;\n        case 1:\n          setPullPage(\"connect\");\n          break;\n        case 2:\n          peer && copyTextToClipboard(peer.id);\n          if (navigator.share && peer) {\n            navigator.share({ text: peer.id });\n          }\n          setPullPage(\"main\");\n          break;\n        case 3:\n          // share\n          setPullPage(\"about\");\n          break;\n        case 4:\n          // share\n          setPullPage(\"messages\");\n          peerConnection?.send({ type: \"event\", event: \"messages\" });\n          break;\n        default:\n        // do something\n      }\n    },\n    [peer, peerConnection, setPullPage]\n  );\n\n  useEffect(() => {\n    if (peerconState) {\n      setPullPage(\"connect\");\n    }\n  }, [peerconState, setPullPage]);\n\n  useEffect(() => {\n    if (!peerconState && pullPage === \"messages\") {\n      runMenu(0);\n    }\n  }, [pullPage, peerconState, runMenu]);\n\n  return (\n    <motion.div\n      style={{\n        background: peerconState && pullPage !== \"messages\" ? background : \"\",\n      }}\n      className=\"home\"\n    >\n      <AnimatePresence>\n        {shade && pullState > 0 ? <Shade {...{ pullState }} /> : \"\"}\n      </AnimatePresence>\n      <AnimateSharedLayout type=\"crossfade\">\n        <motion.header\n          drag={pullPage !== \"messages\" ? \"y\" : false}\n          style={{ y }}\n          onDragStart={() => {\n            if (!peerconState) {\n              setShade(true);\n              setPullState(0);\n            }\n          }}\n          onDragEnd={() => {\n            if (!peerconState) {\n              setShade(false);\n            }\n            runMenu(pullState);\n          }}\n          onDrag={(e, i) => {\n            const y = -i.offset.y;\n            if (peer && !peerconState) {\n              if (y > 250 && y < 400) {\n                setPullState(1);\n              } else if (y >= 400 && y < 500) {\n                setPullState(2);\n              } else if (y >= 500 && y < 550) {\n                setPullState(3);\n              } else if (y <= 250) {\n                setPullState(0);\n              }\n            } else if (peer && peerconState) {\n              if (y >= 400 && y < 500) {\n                setPullState(4);\n              }\n            }\n          }}\n          dragConstraints={{ top: 0, bottom: 0 }}\n        >\n          {peer ? (\n            pullPage === \"main\" ? (\n              <PeerID\n                {...{\n                  shade,\n                  pullState,\n                  peer,\n                }}\n              />\n            ) : pullPage === \"about\" ? (\n              <About />\n            ) : pullPage === \"connect\" ? (\n              <Connect />\n            ) : pullPage === \"messages\" ? (\n              <Messages setPullPage={setPullPage} />\n            ) : (\n              <></>\n            )\n          ) : (\n            <motion.div\n              className=\"connecting-loader\"\n              initial={{\n                opacity: 0,\n                height: 0,\n                y: 0,\n                background: \"#0077ff\",\n              }}\n              animate={{\n                opacity: 1,\n                height: \"auto\",\n                background: \"coral\",\n                y: 0,\n              }}\n              exit={{ opacity: 0, height: 0 }}\n            >\n              <motion.p\n                initial={{ opacity: 0 }}\n                animate={{ opacity: 1 }}\n                transition={{\n                  repeat: Infinity,\n                  repeatType: \"reverse\",\n                  stiffness: 0.2,\n                  damping: 0.5,\n                }}\n              >\n                Assigning ID...\n              </motion.p>\n            </motion.div>\n          )}\n        </motion.header>\n      </AnimateSharedLayout>\n    </motion.div>\n  );\n}\n\nfunction Messages({\n  setPullPage,\n}: {\n  setPullPage: React.Dispatch<React.SetStateAction<string>>;\n}) {\n  return (\n    <motion.div\n      layoutId=\"message\"\n      initial={false}\n      animate={{\n        opacity: 1,\n        height: window.innerHeight,\n        background: \"#161922\",\n      }}\n      className=\"messages\"\n    >\n      <MessageHeader />\n      <MessageContainer setPullPage={setPullPage} />\n      <MessageInput />\n    </motion.div>\n  );\n}\n\nfunction MessageHeader() {\n  const { peerConnection } = useContext(PeerContext) as ContextProps;\n  return (\n    <header>\n      <h2>Olive</h2>\n      <p>Connected to {peerConnection?.peer}</p>\n    </header>\n  );\n}\n\nfunction MessageInput() {\n  const { peerConnection, setMessage } = useContext(\n    PeerContext\n  ) as ContextProps;\n  const [sendBtn, setSendBtn] = useState(false);\n\n  const message = useRef(\"\");\n  const inputfield = useRef<any>();\n\n  const send = useCallback(() => {\n    if (sendBtn) {\n      console.log(message.current.trim());\n      const m = { text: message.current.trim() };\n      peerConnection?.send({ message: m, type: \"message\" });\n      setMessage && setMessage((mess: any) => [...mess, { ...m, sent: true }]);\n      setTimeout(() => {\n        inputfield.current?.value && (inputfield.current.value = \"\");\n        inputfield.current?.focus && inputfield.current?.focus();\n      }, 10);\n    }\n  }, [peerConnection, sendBtn, setMessage]);\n\n  useEffect(() => {\n    function onpress(e: { key: string; shiftKey: any }) {\n      if (e.key === \"Enter\" && !e.shiftKey) {\n        send();\n      }\n    }\n    window.addEventListener(\"keypress\", onpress);\n\n    return () => {\n      window.removeEventListener(\"keypress\", onpress);\n    };\n  }, [send]);\n\n  return (\n    <div className=\"message-input\">\n      <InputBase\n        inputRef={inputfield}\n        fullWidth\n        autoFocus\n        multiline\n        onChange={(e) => {\n          message.current = e.target.value;\n          if (message.current.trim()) {\n            setSendBtn(true);\n          } else {\n            setSendBtn(false);\n          }\n        }}\n        inputProps={{ style: { caretColor: \"#0077ff\", color: \"white\" } }}\n      />\n\n      <SendOutlinedIcon\n        style={{ color: \"#0077ff\", opacity: sendBtn ? 1 : 0.5 }}\n        onClick={send}\n      />\n    </div>\n  );\n}\nfunction MessageContainer({\n  setPullPage,\n}: {\n  setPullPage: React.Dispatch<React.SetStateAction<string>>;\n}) {\n  const { messages } = useContext(PeerContext) as ContextProps;\n\n  return (\n    // <AnimateSharedLayout>\n    <motion.div\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n      layout\n      className=\"messages-container\"\n    >\n      {messages?.map((m, i) => <Message key={i} message={m} />).reverse()}\n    </motion.div>\n    // </AnimateSharedLayout>\n  );\n}\n\nfunction Message({ message }: { message: any }) {\n  return (\n    <motion.div\n      layout\n      className={message.sent ? \"message sent-message\" : \"message\"}\n    >\n      <motion.span layout>{message.text}</motion.span>\n    </motion.div>\n  );\n}\n\nfunction Connect() {\n  const [clip, setClip] = useState(\"\");\n  const { peer, peerConnection, peerconState, setPeerConnection } = useContext(\n    PeerContext\n  ) as ContextProps;\n  const [otherid, setOtherid] = useState(\"\");\n\n  useEffect(() => {\n    navigator.clipboard\n      .readText()\n      .then((text) => {\n        if (text.length === 5) {\n          setClip(text);\n        }\n      })\n      .catch(() => {});\n  }, []);\n\n  useEffect(() => {\n    if (!(peerConnection && peerconState)) {\n      const interval = setInterval(() => {\n        if (!clip) {\n          navigator.clipboard\n            .readText()\n            .then((text) => {\n              if (text.length === 5) {\n                setClip(text);\n                return true;\n              }\n              return false;\n            })\n            .catch(() => {});\n        }\n      }, 2000);\n\n      return () => clearInterval(interval);\n    }\n  }, [clip, peerConnection, peerconState]);\n\n  function connect(id: string) {\n    console.log(\"connecting to:\", id);\n    const con = peer?.connect(id);\n    console.log(con);\n    setPeerConnection && setPeerConnection(con);\n    const interval = setInterval(() => {\n      console.log(\n        \"checking connetionState\",\n        con?.peerConnection?.connectionState\n      );\n      if (\n        con?.peerConnection?.connectionState &&\n        con?.peerConnection?.connectionState === \"failed\"\n      ) {\n        con.close();\n        setPeerConnection && setPeerConnection(undefined);\n        connect(id);\n        clearInterval(interval);\n      } else if (\n        (con?.peerConnection?.connectionState &&\n          con?.peerConnection?.connectionState === \"connected\") ||\n        !con?.peerConnection?.connectionState\n      ) {\n        clearInterval(interval);\n      }\n    }, 2000);\n  }\n\n  return (\n    <motion.div\n      initial={{ opacity: 0 }}\n      layoutId=\"message\"\n      animate={{\n        opacity: 1,\n        height: !(peerconState && peerConnection) ? (clip ? 400 : 300) : 300,\n        background: \"#0077ff\",\n      }}\n      className=\"connect-page\"\n    >\n      <div className=\"pull-up-indicator\" style={{ position: \"static\" }}>\n        {peerconState ? (\n          <motion.span\n            initial={{ y: 5 }}\n            animate={{ y: -5 }}\n            transition={{\n              repeat: Infinity,\n              repeatType: \"reverse\",\n              stiffness: 0.2,\n              damping: 0.5,\n            }}\n          >\n            pull up to message\n          </motion.span>\n        ) : (\n          <></>\n        )}\n      </div>\n      <header>\n        <h2>\n          {!(peerconState && peerConnection)\n            ? \"Connect to ID\"\n            : `Connected to ${peerConnection.peer}`}\n        </h2>\n        <SettingsEthernetOutlinedIcon />\n      </header>\n      {!(peerconState && peerConnection) ? (\n        <>\n          <TextField\n            id=\"partnerid\"\n            label=\"partner id\"\n            defaultValue=\"\"\n            // fullWidth\n            InputProps={{ style: { caretColor: \"white\", color: \"white\" } }}\n            autoFocus\n            variant=\"outlined\"\n            color=\"secondary\"\n            onChange={(e) => {\n              setOtherid(e.target.value);\n            }}\n          />\n          <Button\n            disabled={!(otherid.length === 5)}\n            variant=\"text\"\n            color=\"secondary\"\n            onClick={() => connect(otherid)}\n          >\n            connect\n          </Button>\n        </>\n      ) : (\n        <></>\n      )}\n      {clip || (peerconState && peerConnection) ? (\n        <div className=\"quick-connect\">\n          <Fab\n            disabled={!!(!peerconState && peerConnection)}\n            onClick={() => {\n              if (peerconState && peerConnection) {\n                peerConnection.close();\n              } else {\n                connect(clip);\n              }\n            }}\n            variant=\"extended\"\n            style={\n              peerconState && peerConnection\n                ? { background: \"coral\", color: \"white\" }\n                : {}\n            }\n          >\n            {peerconState && peerConnection ? (\n              <></>\n            ) : (\n              <AssignmentOutlinedIcon />\n            )}\n            <p>\n              {!peerconState && !peerConnection\n                ? `connect to ${clip}`\n                : !peerconState && peerConnection\n                ? `connecting to ${peerConnection.peer}`\n                : `disconnect from ${peerConnection && peerConnection.peer}`}\n            </p>\n          </Fab>\n        </div>\n      ) : (\n        <></>\n      )}\n    </motion.div>\n  );\n}\nfunction About() {\n  return (\n    <motion.div\n      initial={{ opacity: 0 }}\n      animate={{\n        opacity: 1,\n        height: 120,\n        background: \"coral\",\n      }}\n      className=\"about\"\n    >\n      <header>\n        <h2>whats this?</h2>\n        <HelpOutlineIcon />\n      </header>\n      <p>\n        just a ux experiment and also u can use this to watch youtube with like\n        one other person\n      </p>\n    </motion.div>\n  );\n}\n\nfunction PeerID({\n  shade,\n  pullState,\n  peer,\n}: {\n  shade: boolean;\n  pullState: number;\n  peer: Peer;\n}) {\n  return (\n    <motion.div\n      initial={{ opacity: 0, height: 0 }}\n      animate={{\n        opacity: 1,\n        height: 200,\n      }}\n      className=\"peer-id\"\n    >\n      <div className=\"pull-up-indicator\">\n        <motion.span\n          initial={{ y: 5 }}\n          animate={{ y: -5 }}\n          transition={{\n            repeat: Infinity,\n            repeatType: \"reverse\",\n            stiffness: 0.2,\n            damping: 0.5,\n          }}\n        >\n          {!shade ? \"pull up\" : \"drag to select\"}\n        </motion.span>\n      </div>\n      <p style={{ fontSize: \"1rem\" }}>you are</p>\n      <h3 style={{ fontSize: \"2rem\", fontWeight: 600 }}>{peer?.id}</h3>\n      <span className=\"version\">v0.0.2</span>\n      <span style={{ fontSize: \".8rem\", opacity: 0.8 }}>\n        pull down to come back\n      </span>\n    </motion.div>\n  );\n}\n\nfunction Shade({ pullState }: { pullState: number }) {\n  const { peerConnection, peerconState } = useContext(\n    PeerContext\n  ) as ContextProps;\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 100 }}\n      exit={{ opacity: 0, y: 200 }}\n      animate={{\n        opacity: 1,\n        y: 0,\n      }}\n      className=\"shade-menu\"\n    >\n      <div\n        style={{ background: pullState === 3 ? \"var(--accent)\" : \"\" }}\n        className=\"menu-item\"\n      >\n        <p>what is this?</p>\n        <HelpOutlineIcon />\n      </div>\n      <div\n        style={{ background: pullState === 2 ? \"var(--accent)\" : \"\" }}\n        className=\"menu-item\"\n      >\n        <p>share id</p>\n        <ShareOutlinedIcon />\n      </div>\n      {!peerConnection ? (\n        <div\n          style={{ background: pullState === 1 ? \"var(--accent)\" : \"\" }}\n          className=\"menu-item\"\n        >\n          <p>connect with</p>\n          <SettingsEthernetOutlinedIcon />\n        </div>\n      ) : (\n        <div\n          style={{ background: peerconState ? \"var(--accent)\" : \"coral\" }}\n          className=\"menu-item\"\n        >\n          <p>\n            {peerconState\n              ? `connected to ${peerConnection.peer}`\n              : `connecting to ${peerConnection.peer}`}\n          </p>\n          <SettingsEthernetOutlinedIcon />\n        </div>\n      )}\n    </motion.div>\n  );\n}\n","import { createMuiTheme, ThemeProvider } from \"@material-ui/core\";\nimport React from \"react\";\nimport Home from \"./components/Home\";\nimport { PeerContextProvider } from \"./components/PeerContext\";\n\nfunction App() {\n  const theme = createMuiTheme({\n    palette: {\n      primary: {\n        main: \"#0077ff\",\n      },\n      secondary: {\n        main: \"#ffff\",\n      },\n    },\n  });\n  return (\n    <ThemeProvider theme={theme}>\n      <PeerContextProvider>\n        <Home />\n      </PeerContextProvider>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.register();\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}